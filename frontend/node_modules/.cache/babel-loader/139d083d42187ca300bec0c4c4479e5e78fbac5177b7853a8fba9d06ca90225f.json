{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alex Diaconou/Code/my-tutor-app-ts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alex Diaconou/Code/my-tutor-app-ts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var apiKey=\"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\";var headers={Authorization:\"Bearer \".concat(apiKey),\"Content-Type\":\"application/json\"};var promptGPT=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(prompt){var maxTokens,data,response,json,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:maxTokens=_args.length>1&&_args[1]!==undefined?_args[1]:50;data={model:\"gpt-3.5-turbo\",messages:[{role:\"user\",content:JSON.stringify(prompt)}]};_context.prev=2;console.log(\"TEST\");_context.next=6;return fetch(\"https://api.openai.com/v1/chat/completions\",{method:\"POST\",headers:headers,body:JSON.stringify(data)});case 6:response=_context.sent;_context.next=9;return response.json();case 9:json=_context.sent;if(json.choices){_context.next=12;break;}return _context.abrupt(\"return\",\"Undefined\");case 12:return _context.abrupt(\"return\",json.choices[0].message.content);case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);console.error(\"Error: \",_context.t0);return _context.abrupt(\"return\",null);case 19:case\"end\":return _context.stop();}},_callee,null,[[2,15]]);}));return function promptGPT(_x){return _ref.apply(this,arguments);};}();export default promptGPT;","map":{"version":3,"names":["apiKey","headers","Authorization","concat","promptGPT","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prompt","maxTokens","data","response","json","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","model","messages","role","content","JSON","stringify","console","log","fetch","method","body","sent","choices","abrupt","message","t0","error","stop","_x","apply"],"sources":["C:/Users/Alex Diaconou/Code/my-tutor-app-ts/frontend/src/services/openaiService.ts"],"sourcesContent":["const apiKey = \"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\";\r\n\r\nconst headers = {\r\n  Authorization: `Bearer ${apiKey}`,\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\ninterface Message {\r\n  role: string;\r\n  content: string;\r\n}\r\n\r\ninterface CompletionResponse {\r\n  choices?: {\r\n    message: {\r\n      content: string;\r\n    };\r\n  }[];\r\n}\r\n\r\nconst promptGPT = async (prompt: string, maxTokens: number = 50): Promise<string | null> => {\r\n  const data = {\r\n    model: \"gpt-3.5-turbo\",\r\n    messages: [{ role: \"user\", content: JSON.stringify(prompt) }] as Message[],\r\n  };\r\n\r\n  try {\r\n    console.log(\"TEST\");\r\n    const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\r\n      method: \"POST\",\r\n      headers: headers,\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const json = (await response.json()) as CompletionResponse;\r\n\r\n    if (!json.choices) {\r\n      return \"Undefined\";\r\n    }\r\n\r\n    return json.choices[0].message.content;\r\n  } catch (error) {\r\n    console.error(\"Error: \", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default promptGPT;"],"mappings":"kRAAA,GAAM,CAAAA,MAAM,CAAG,qDAAqD,CAEpE,GAAM,CAAAC,OAAO,CAAG,CACdC,aAAa,WAAAC,MAAA,CAAYH,MAAM,CAAE,CACjC,cAAc,CAAE,kBAClB,CAAC,CAeD,GAAM,CAAAI,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAc,MAAAC,SAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,SAAA,QAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAEV,SAAiB,CAAAI,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,EAAE,CACvDH,IAAI,CAAG,CACXY,KAAK,CAAE,eAAe,CACtBC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEC,IAAI,CAACC,SAAS,CAACnB,MAAM,CAAE,CAAC,CAC9D,CAAC,CAAAS,QAAA,CAAAC,IAAA,GAGCU,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CAACZ,QAAA,CAAAE,IAAA,SACG,CAAAW,KAAK,CAAC,4CAA4C,CAAE,CACzEC,MAAM,CAAE,MAAM,CACdhC,OAAO,CAAEA,OAAO,CAChBiC,IAAI,CAAEN,IAAI,CAACC,SAAS,CAACjB,IAAI,CAC3B,CAAC,CAAC,QAJIC,QAAQ,CAAAM,QAAA,CAAAgB,IAAA,CAAAhB,QAAA,CAAAE,IAAA,SAMM,CAAAR,QAAQ,CAACC,IAAI,EAAE,QAA7BA,IAAI,CAAAK,QAAA,CAAAgB,IAAA,IAELrB,IAAI,CAACsB,OAAO,EAAAjB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAkB,MAAA,UACR,WAAW,iBAAAlB,QAAA,CAAAkB,MAAA,UAGbvB,IAAI,CAACsB,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,CAACX,OAAO,UAAAR,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAoB,EAAA,CAAApB,QAAA,aAEtCW,OAAO,CAACU,KAAK,CAAC,SAAS,CAAArB,QAAA,CAAAoB,EAAA,CAAQ,CAAC,OAAApB,QAAA,CAAAkB,MAAA,UACzB,IAAI,2BAAAlB,QAAA,CAAAsB,IAAA,MAAAhC,OAAA,iBAEd,kBAzBK,CAAAL,SAASA,CAAAsC,EAAA,SAAArC,IAAA,CAAAsC,KAAA,MAAA3B,SAAA,OAyBd,CAED,cAAe,CAAAZ,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}